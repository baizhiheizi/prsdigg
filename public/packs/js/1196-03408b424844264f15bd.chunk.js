(self.webpackChunkprsdigg=self.webpackChunkprsdigg||[]).push([[1196],{49101:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=n(59418),c=function(e,t){return r.createElement(l.Z,Object.assign({},e,{ref:t,icon:a}))};c.displayName="PlusOutlined";var o=r.forwardRef(c)},47566:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(67294),a=n(91296),l=n.n(a);var c=n(80112);var o=function(e){var t=(0,c.Z)(e);(0,r.useEffect)((function(){return function(){"function"===typeof t&&t()}}),[])},i=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c},u=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};var s=function(e,t){var n,a=(0,r.useRef)(e);a.current=e;var c,i,s,f=null!==(n=null===t||void 0===t?void 0:t.wait)&&void 0!==n?n:1e3,d=(c=function(){return l()((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.current.apply(a,u(e))}),f,t)},i=[],!1!==(s=(0,r.useRef)({deps:i,obj:void 0,initialized:!1}).current).initialized&&function(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(s.deps,i)||(s.deps=i,s.obj=c(),s.initialized=!0),s.obj);return o((function(){d.cancel()})),{run:d,cancel:d.cancel,flush:d.flush}},f=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c};var d=function(e,t){var n=f((0,r.useState)(e),2),a=n[0],l=n[1],c=s((function(){l(e)}),t).run;return(0,r.useEffect)((function(){c()}),[e]),a}},80112:function(e,t,n){"use strict";var r=n(67294);t.Z=function(e){var t=(0,r.useRef)(e);t.current=e;var n=(0,r.useRef)();return n.current||(n.current=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(this,e)}),n.current}},5467:function(e,t,n){"use strict";function r(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}n.d(t,{Z:function(){return r}})},47933:function(e,t,n){"use strict";n.d(t,{ZP:function(){return j}});var r=n(96156),a=n(22122),l=n(67294),c=n(50132),o=n(94184),i=n.n(o),u=n(17799),s=n(65632),f=l.createContext(null),d=f.Provider,m=f,p=n(21687),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},y=function(e,t){var n,o=l.useContext(m),f=l.useContext(s.E_),d=f.getPrefixCls,y=f.direction,h=l.useRef(),b=(0,u.sQ)(t,h);l.useEffect((function(){(0,p.Z)(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var g=e.prefixCls,E=e.className,Z=e.children,C=e.style,w=v(e,["prefixCls","className","children","style"]),k=d("radio",g),x=(0,a.Z)({},w);o&&(x.name=o.name,x.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===o||void 0===o?void 0:o.onChange)||void 0===r||r.call(o,t)},x.checked=e.value===o.value,x.disabled=e.disabled||o.disabled);var O=i()("".concat(k,"-wrapper"),(n={},(0,r.Z)(n,"".concat(k,"-wrapper-checked"),x.checked),(0,r.Z)(n,"".concat(k,"-wrapper-disabled"),x.disabled),(0,r.Z)(n,"".concat(k,"-wrapper-rtl"),"rtl"===y),n),E);return l.createElement("label",{className:O,style:C,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},l.createElement(c.default,(0,a.Z)({},x,{prefixCls:k,ref:b})),void 0!==Z?l.createElement("span",null,Z):null)},h=l.forwardRef(y);h.displayName="Radio",h.defaultProps={type:"radio"};var b=h,g=n(28481),E=n(5663),Z=n(97647),C=n(5467),w=l.forwardRef((function(e,t){var n=l.useContext(s.E_),c=n.getPrefixCls,o=n.direction,u=l.useContext(Z.Z),f=(0,E.Z)(e.defaultValue,{value:e.value}),m=(0,g.Z)(f,2),p=m[0],v=m[1];return l.createElement(d,{value:{onChange:function(t){var n=p,r=t.target.value;"value"in e||v(r);var a=e.onChange;a&&r!==n&&a(t)},value:p,disabled:e.disabled,name:e.name}},function(){var n,s=e.prefixCls,f=e.className,d=void 0===f?"":f,m=e.options,v=e.optionType,y=e.buttonStyle,h=void 0===y?"outline":y,g=e.disabled,E=e.children,Z=e.size,w=e.style,k=e.id,x=e.onMouseEnter,O=e.onMouseLeave,N=c("radio",s),_="".concat(N,"-group"),j=E;if(m&&m.length>0){var S="button"===v?"".concat(N,"-button"):N;j=m.map((function(e){return"string"===typeof e?l.createElement(b,{key:e,prefixCls:S,disabled:g,value:e,checked:p===e},e):l.createElement(b,{key:"radio-group-value-options-".concat(e.value),prefixCls:S,disabled:e.disabled||g,value:e.value,checked:p===e.value,style:e.style},e.label)}))}var I=Z||u,P=i()(_,"".concat(_,"-").concat(h),(n={},(0,r.Z)(n,"".concat(_,"-").concat(I),I),(0,r.Z)(n,"".concat(_,"-rtl"),"rtl"===o),n),d);return l.createElement("div",(0,a.Z)({},(0,C.Z)(e),{className:P,style:w,onMouseEnter:x,onMouseLeave:O,id:k,ref:t}),j)}())})),k=l.memo(w),x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},O=function(e,t){var n=l.useContext(m),r=l.useContext(s.E_).getPrefixCls,c=e.prefixCls,o=x(e,["prefixCls"]),i=r("radio-button",c);return n&&(o.checked=e.value===n.value,o.disabled=e.disabled||n.disabled),l.createElement(b,(0,a.Z)({prefixCls:i},o,{type:"radio",ref:t}))},N=l.forwardRef(O),_=b;_.Button=N,_.Group=k;var j=_},54602:function(e,t,n){"use strict";n(39992)},12028:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(22122),a=n(96156),l=n(67294),c=n(28481),o=n(81253),i=n(94184),u=n.n(i),s=n(21770),f=n(15105),d=l.forwardRef((function(e,t){var n,r=e.prefixCls,i=void 0===r?"rc-switch":r,d=e.className,m=e.checked,p=e.defaultChecked,v=e.disabled,y=e.loadingIcon,h=e.checkedChildren,b=e.unCheckedChildren,g=e.onClick,E=e.onChange,Z=e.onKeyDown,C=(0,o.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,s.Z)(!1,{value:m,defaultValue:p}),k=(0,c.Z)(w,2),x=k[0],O=k[1];function N(e,t){var n=x;return v||(O(n=e),null===E||void 0===E||E(n,t)),n}var _=u()(i,d,(n={},(0,a.Z)(n,"".concat(i,"-checked"),x),(0,a.Z)(n,"".concat(i,"-disabled"),v),n));return l.createElement("button",Object.assign({},C,{type:"button",role:"switch","aria-checked":x,disabled:v,className:_,ref:t,onKeyDown:function(e){e.which===f.Z.LEFT?N(!1,e):e.which===f.Z.RIGHT&&N(!0,e),null===Z||void 0===Z||Z(e)},onClick:function(e){var t=N(!x,e);null===g||void 0===g||g(t,e)}}),y,l.createElement("span",{className:"".concat(i,"-inner")},x?h:b))}));d.displayName="Switch";var m=d,p=n(7085),v=n(69304),y=n(65632),h=n(97647),b=n(21687),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},E=l.forwardRef((function(e,t){var n,c=e.prefixCls,o=e.size,i=e.loading,s=e.className,f=void 0===s?"":s,d=e.disabled,E=g(e,["prefixCls","size","loading","className","disabled"]);(0,b.Z)("checked"in E||!("value"in E),"Switch","`value` is not a valid prop, do you mean `checked`?");var Z=l.useContext(y.E_),C=Z.getPrefixCls,w=Z.direction,k=l.useContext(h.Z),x=C("switch",c),O=l.createElement("div",{className:"".concat(x,"-handle")},i&&l.createElement(p.Z,{className:"".concat(x,"-loading-icon")})),N=u()((n={},(0,a.Z)(n,"".concat(x,"-small"),"small"===(o||k)),(0,a.Z)(n,"".concat(x,"-loading"),i),(0,a.Z)(n,"".concat(x,"-rtl"),"rtl"===w),n),f);return l.createElement(v.Z,{insertExtraNode:!0},l.createElement(m,(0,r.Z)({},E,{prefixCls:x,className:N,disabled:d||i,ref:t,loadingIcon:O})))}));E.__ANT_SWITCH=!0,E.displayName="Switch";var Z=E},27883:function(e,t,n){"use strict";n(39992)},43069:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});n(74407);var r=n(31097),a=(n(3829),n(60331)),l=(n(39200),n(55019)),c=n(49101),o=n(67294);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(i){o=!0,a=i}finally{try{c||null==n.return||n.return()}finally{if(o)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=e.tags,n=e.setTags,u=i((0,o.useState)(!1),2),s=u[0],f=u[1],d=i((0,o.useState)(""),2),m=d[0],p=d[1],v=i((0,o.useState)(-1),2),y=v[0],h=v[1],b=i((0,o.useState)(""),2),g=b[0],E=b[1],Z=(0,o.useRef)(null),C=(0,o.useRef)(null);(0,o.useEffect)((function(){s&&Z.current.focus()}),[s]),(0,o.useEffect)((function(){-1!==y&&C.current.focus()}),[y]);var w=function(){m&&-1===t.indexOf(m)&&n([].concat(t,[m])),p(""),f(!1)},k=function(){var e=[].concat(t);e[y]=g,n(e),E(""),h(-1)};return o.createElement("div",null,t.map((function(e,c){if(y===c)return o.createElement(l.Z,{ref:C,style:{width:78,marginRight:8,verticalAlign:"top"},size:"small",key:e,value:g,onChange:function(e){return E(e.target.value)},onBlur:k,onPressEnter:k});var i=e.length>20,u=o.createElement(a.Z,{key:e,closable:!0,onClose:function(){return r=e,n(t.filter((function(e){return e!==r})));var r}},o.createElement("span",{onDoubleClick:function(t){0!==c&&(h(c),E(e),C.current.focus(),t.preventDefault())}},"#",i?e.slice(0,20)+"...":e));return i?o.createElement(r.Z,{title:e,key:e},u):u})),s&&o.createElement(l.Z,{ref:Z,style:{width:78,marginRight:8,verticalAlign:"top"},size:"small",type:"text",value:m,onChange:function(e){return p(e.target.value)},onBlur:w,onPressEnter:w}),!s&&o.createElement(a.Z,{style:{background:"#fff",borderStyle:"dashed"},onClick:function(){return f(!0)}},o.createElement(c.Z,null)," New Tag"))}},56831:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});n(58481);var r=n(48086),a=n(6799),l=n(67294);function c(e){var t=(0,a.kU)().attachmentEndpoint;return l.createElement("input",{className:"hidden",id:"upload-image-input",type:"file",accept:"image/*",multiple:!0,onChange:function(n){Array.from(n.target.files).forEach((function(n){r.ZP.loading("..."),(0,a.ws)(n,(function(n){n.url=t+"/"+n.key,e.callback(n),r.ZP.destroy()}))}))}})}},81196:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});n(54602);var r=n(47933),a=(n(67167),n(71577)),l=(n(27883),n(12028)),c=(n(61768),n(8834)),o=(n(51872),n(19650)),i=(n(75257),n(51890)),u=(n(14564),n(48835)),s=(n(39200),n(55019)),f=(n(945),n(3785)),d=(n(13816),n(37744)),m=(n(58481),n(48086)),p=(n(38319),n(86585)),v=n(2826),y=n(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},b=n(59418),g=function(e,t){return y.createElement(b.Z,Object.assign({},e,{ref:t,icon:h}))};g.displayName="MinusCircleOutlined";var E=y.forwardRef(g),Z=n(49101),C=n(43069),w=n(67823),k=n(6799),x=n(39387),O=n(8134),N=n(73727),_=n(5977),j=n(56831),S=n(47566);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(i){o=!0,a=i}finally{try{c||null==n.return||n.return()}finally{if(o)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){var e,t=(0,_.k6)(),n=q(p.Z.useForm(),1)[0],h=(0,O.$)().t,b=q((0,y.useState)(""),2),g=b[0],I=b[1],R=(0,S.Z)(g,{wait:1e3}),T=(0,x.yNM)({variables:{type:"available",query:R}}).data,F=q((0,y.useState)([]),2),A=F[0],K=F[1],M=q((0,y.useState)("c6d0c728-2624-429b-8e0d-d9d19b6592fa"),2),D=M[0],z=M[1],U=q((0,y.useState)(1e-6),2),B=U[0],V=U[1],$=q((0,y.useState)(!1),2),H=$[0],L=$[1],G=q((0,y.useState)(.5),2),W=G[0],Q=G[1],X=(0,x.Xtc)(),J=X.loading,Y=X.data,ee=q((0,x.uwN)({update:function(e,n){n.data.createArticle?(m.ZP.success(h("success_submitted")),t.replace("/articles")):m.ZP.error(h("please_retry"))}}),2),te=ee[0],ne=ee[1].loading;if(J)return y.createElement(w.Z,null);var re=Y.pricableCurrencies,ae=(null==T||null==(e=T.myArticleConnection)?void 0:e.nodes)||[],le=re.find((function(e){return e.assetId===D}));return y.createElement("div",null,y.createElement(d.Z,{title:h("new_article"),breadcrumb:{routes:[{path:"/articles",breadcrumbName:h("articles_manage")},{path:"",breadcrumbName:h("new_article")}],itemRender:function(e,t,n,r){return n.indexOf(e)===n.length-1?y.createElement("span",null,e.breadcrumbName):y.createElement(N.rU,{to:e.path},e.breadcrumbName)}}}),y.createElement(j.Z,{callback:function(e){n.setFieldsValue({content:n.getFieldValue("content")+"\n!["+e.filename+"]("+e.url+")\n"})}}),y.createElement(p.Z,{form:n,initialValues:{assetId:D,content:"",price:B,state:"published"},labelCol:{span:2},wrapperCol:{span:22},onValuesChange:function(e,t){var n=t.articleReferences;if(n){var r=n.reduce((function(e,t){return e+((null==t?void 0:t.revenueRatio)||0)}),0);Q(r<.5?.5-r:0)}},onFinish:function(e){var t=e.title,n=e.content,r=e.intro,a=e.assetId;t&&n&&r&&a?f.Z.confirm({title:h("article.form.confirm_to_create"),centered:!0,okText:h("create"),cancelText:h("later"),onOk:function(){return te({variables:{input:P(P({},e),{},{tagNames:A})}})}}):m.ZP.warn(h("article.form.not_finished"))}},y.createElement(p.Z.Item,{label:h("article.title"),name:"title",rules:[{required:!0,message:h("article.form.title_is_required")}]},y.createElement(s.Z,{placeholder:h("article.form.title_place_holder")})),y.createElement(p.Z.Item,{label:h("article.content"),name:"content",rules:[{required:!0,message:h("article.form.content_is_required")}]},y.createElement(v.ZP,{textareaProps:{placeholder:h("article.form.content_place_holder")},previewOptions:P({},k.$1),preview:"edit",autoFocus:!1,height:500,commands:[v.CN.Se,v.CN.pU,v.CN.mW,v.CN.hr,v.CN.TN,v.CN.qE,v.CN.p4,v.CN.TU,k.H7,v.CN.qE,v.CN.GH,v.CN.Vf]})),y.createElement(p.Z.Item,{label:h("article.intro"),name:"intro",rules:[{required:!0,message:h("article.form.intro_is_required")}]},y.createElement(s.Z.TextArea,{placeholder:h("article.form.intro_place_holder")})),y.createElement(p.Z.Item,{label:h("article.tags")},y.createElement(C.Z,{tags:A,setTags:K})),y.createElement(p.Z.Item,{label:h("article.price"),extra:B>0?"\u2248 $"+(le.priceUsd*B).toFixed(4):h("article.form.you_will_create_a_free_article")},y.createElement(o.Z,null,y.createElement(p.Z.Item,{name:"price",noStyle:!0,dependencies:["assetId"],rules:[{required:!0},{validator:function(e,t){return"BTC"===le.symbol&&(0===t||t>=1e-6)?Promise.resolve():Promise.reject(h("article.form.price_is_too_low"))}}]},y.createElement(u.Z,{onChange:function(e){return V(parseFloat(e.toString()))},style:{minWidth:130},min:0,step:"0.000001",precision:6,placeholder:"0.0"})),y.createElement(p.Z.Item,{name:"assetId",noStyle:!0,rules:[{required:!0}]},y.createElement(c.Z,{onSelect:function(e){return z(e)}},re.map((function(e){return y.createElement(c.Z.Option,{key:e.assetId,value:e.assetId},y.createElement(o.Z,null,y.createElement(i.C,{size:"small",src:e.iconUrl}),e.symbol))})))))),y.createElement(p.Z.Item,{label:h("article.form.revenue_distribution"),shouldUpdate:function(e,t){return e.articleReferences!==t.articleReferences}},y.createElement(p.Z.Item,{label:h("readers_revenue")},y.createElement(u.Z,{disabled:!0,value:.4,formatter:function(e){return 100*e+"%"}})),y.createElement(p.Z.Item,{label:h("platform_revenue")},y.createElement(u.Z,{disabled:!0,value:.1,formatter:function(e){return 100*e+"%"}})),y.createElement(p.Z.Item,{label:h("author_revenue")},y.createElement(u.Z,{disabled:!0,value:W,formatter:function(e){return Math.floor(100*e)+"%"}})),y.createElement(p.Z.Item,{label:h("references_revenue")},y.createElement(p.Z.Item,null,y.createElement(l.Z,{checked:H,onChange:function(e){L(e),e||(n.setFieldsValue({articleReferences:[]}),Q(.5))}})),H&&y.createElement(p.Z.List,{name:"articleReferences"},(function(e,t){var r=t.add,l=t.remove;return y.createElement(y.Fragment,null,e.map((function(e,t){return y.createElement("div",{className:"flex items-baseline w-full space-x-2",key:t},y.createElement(p.Z.Item,{noStyle:!0},y.createElement(p.Z.Item,Object.assign({},e,{className:"flex-1",fieldKey:[e.fieldKey,"referenceId"],name:[e.name,"referenceId"],label:h("article.article_text"),rules:[{required:!0,message:h("article.form.please_select_an_article")}]}),y.createElement(c.Z,{allowClear:!0,showSearch:!0,filterOption:!1,onSearch:function(e){return I(e)},onChange:function(){return I("")},options:ae.map((function(e){return{label:y.createElement("div",{className:"flex flex-wrap items-center space-x-2"},y.createElement("img",{className:"w-6 h-6 rounded-full",src:e.author.avatar}),y.createElement("span",null,e.author.name,":"),y.createElement("span",null,e.title)),value:e.uuid}}))}))),y.createElement(p.Z.Item,Object.assign({className:"flex-1"},e,{fieldKey:[e.fieldKey,"revenueRatio"],name:[e.name,"revenueRatio"],rules:[{required:!0,message:h("article.form.please_input_revenue_ratio")},{validator:function(){var e=n.getFieldValue("articleReferences"),t=null==e?void 0:e.reduce((function(e,t){return e+((null==t?void 0:t.revenueRatio)||0)}),0);return t&&t>=.5?Promise.reject(new Error(h("article.form.references_revenue_cannot_larger_than_50%"))):Promise.resolve()}}],label:h("article.form.revenue_ratio")}),y.createElement(u.Z,{min:.01,max:.49,step:"0.01",formatter:function(e){return 100*e+"%"},parser:function(e){return parseInt(e.replace("%",""))/100}})),y.createElement(E,{onClick:function(){return l(e.name)}}))})),y.createElement(p.Z.Item,null,y.createElement(a.Z,{type:"dashed",disabled:e.length>=10,onClick:function(){return e.length<10&&r({revenueRatio:.05})},block:!0,icon:y.createElement(Z.Z,null)},h("article.form.add_reference"))))})))),y.createElement(p.Z.Item,{label:h("article.state_text"),name:"state",rules:[{required:!0}]},y.createElement(r.ZP.Group,{options:[{label:h("article.state.published"),value:"published"},{label:h("article.state.hidden"),value:"hidden"}]})),y.createElement(p.Z.Item,{wrapperCol:{xs:{offset:0},sm:{offset:2}}},y.createElement(a.Z,{size:"large",type:"primary",htmlType:"submit",loading:ne},h("create")))))}},91296:function(e,t,n){var r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,o=parseInt,i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,s=i||u||Function("return this")(),f=Object.prototype.toString,d=Math.max,m=Math.min,p=function(){return s.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=l.test(e);return n||c.test(e)?o(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var r,a,l,c,o,i,u=0,s=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=r,l=a;return r=a=void 0,u=t,c=e.apply(l,n)}function g(e){return u=e,o=setTimeout(Z,t),s?b(e):c}function E(e){var n=e-i;return void 0===i||n>=t||n<0||f&&e-u>=l}function Z(){var e=p();if(E(e))return C(e);o=setTimeout(Z,function(e){var n=t-(e-i);return f?m(n,l-(e-u)):n}(e))}function C(e){return o=void 0,h&&r?b(e):(r=a=void 0,c)}function w(){var e=p(),n=E(e);if(r=arguments,a=this,i=e,n){if(void 0===o)return g(i);if(f)return o=setTimeout(Z,t),b(i)}return void 0===o&&(o=setTimeout(Z,t)),c}return t=y(t)||0,v(n)&&(s=!!n.leading,l=(f="maxWait"in n)?d(y(n.maxWait)||0,t):l,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==o&&clearTimeout(o),u=0,r=i=a=o=void 0},w.flush=function(){return void 0===o?c:C(p())},w}},50132:function(e,t,n){"use strict";n.r(t);var r=n(22122),a=n(96156),l=n(81253),c=n(28991),o=n(6610),i=n(5991),u=n(10379),s=n(54070),f=n(67294),d=n(94184),m=n.n(d),p=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;(0,o.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,a=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),a&&a({target:(0,c.Z)((0,c.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var a="checked"in e?e.checked:e.defaultChecked;return r.state={checked:a},r}return(0,i.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,c=t.className,o=t.style,i=t.name,u=t.id,s=t.type,d=t.disabled,p=t.readOnly,v=t.tabIndex,y=t.onClick,h=t.onFocus,b=t.onBlur,g=t.onKeyDown,E=t.onKeyPress,Z=t.onKeyUp,C=t.autoFocus,w=t.value,k=t.required,x=(0,l.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),O=Object.keys(x).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=x[t]),e}),{}),N=this.state.checked,_=m()(n,c,(e={},(0,a.Z)(e,"".concat(n,"-checked"),N),(0,a.Z)(e,"".concat(n,"-disabled"),d),e));return f.createElement("span",{className:_,style:o},f.createElement("input",(0,r.Z)({name:i,id:u,type:s,required:k,readOnly:p,disabled:d,tabIndex:v,className:"".concat(n,"-input"),checked:!!N,onClick:y,onFocus:h,onBlur:b,onKeyUp:Z,onKeyDown:g,onKeyPress:E,onChange:this.handleChange,autoFocus:C,ref:this.saveInput,value:w},O)),f.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,c.Z)((0,c.Z)({},t),{},{checked:e.checked}):null}}]),n}(f.Component);p.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=p}}]);
//# sourceMappingURL=1196-03408b424844264f15bd.chunk.js.map